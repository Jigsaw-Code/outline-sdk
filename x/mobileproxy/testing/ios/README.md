# iOS Test Application for MobileProxy

This directory (`x/mobileproxy/testing/ios/`) contains a minimal iOS application project designed to host and run XCTests for the `mobileproxy.xcframework`.

## Purpose

The primary purpose of this application (`MobileProxyTestApp`) is to serve as a test bundle for executing integration and unit tests against the `Mobileproxy` Swift/Objective-C bindings generated by `gomobile bind`. These tests will run on an iOS device or simulator.

## Structure

- **`MobileProxyTestApp/`**: The root directory for the Xcode project.
    - **`MobileProxyTestApp.xcodeproj/`**: This directory would normally contain the Xcode project file (`project.pbxproj`). For the purpose of this automated setup, it's a placeholder. A real `project.pbxproj` would need to be generated by Xcode or manually crafted to link the source files, the `Mobileproxy.xcframework`, and the XCTest framework.
    - **`MobileProxyTestApp/`**: Contains the source code for the minimal application that acts as the test host.
        - `AppDelegate.swift`: Standard application delegate.
        - `ViewController.swift`: Basic view controller (can be minimal as the app's UI is not the focus).
        - `SceneDelegate.swift`: Standard scene delegate (for iOS 13+ lifecycle).
        - `Info.plist`: (Not explicitly created by this script but essential) Would contain bundle identifiers, version numbers, and capabilities.
        - (No `main.swift` is typically used when `@main` is on `AppDelegate`).
    - **`MobileProxyTestAppTests/`**: Contains the XCTest source files.
        - `MobileProxyiOSTests.swift`: The XCTest class where test methods for `Mobileproxy` will be implemented. This class imports `XCTest` and will import the `Mobileproxy` module from the XCFramework.
    - **`Frameworks/`**: (Not created by this script but essential for a real project) This directory would typically hold the `Mobileproxy.xcframework`. The Xcode project would be configured to link against this framework.

## Building and Testing

To build and run these tests in a real environment:
1.  Ensure `Mobileproxy.xcframework` has been generated by `gomobile bind -target=ios -o Mobileproxy.xcframework <path_to_mobileproxy_package>`.
2.  Place `Mobileproxy.xcframework` into a suitable location (e.g., `MobileProxyTestApp/Frameworks/`).
3.  Open `MobileProxyTestApp.xcodeproj` in Xcode (or generate one that includes these files).
4.  Configure the "MobileProxyTestApp" target:
    - Add `Mobileproxy.xcframework` to "Frameworks, Libraries, and Embedded Content" under the "General" tab.
    - Ensure the framework is set to "Embed & Sign".
5.  Configure the "MobileProxyTestAppTests" target:
    - Add `Mobileproxy.xcframework` to its "Frameworks and Libraries" (usually it's sufficient to link it in the app target).
    - Ensure the "Test Host" is set to the "MobileProxyTestApp" application.
6.  Select an iOS simulator or a connected device.
7.  Use Product > Test (Cmd+U) in Xcode to run the tests.

Alternatively, `xcodebuild` can be used from the command line if the project is correctly configured:
```bash
xcodebuild test -project MobileProxyTestApp/MobileProxyTestApp.xcodeproj -scheme MobileProxyTestApp -destination 'platform=iOS Simulator,name=iPhone 15,OS=latest'
```
(The exact scheme name and destination may vary).

## Next Steps

The `MobileProxyiOSTests.swift` file will be populated with specific test cases that interact with the `Mobileproxy` API.
This setup provides the necessary file structure for these tests.
